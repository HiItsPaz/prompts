# Make.com Scenarios - Complete Flow Diagrams

## System Overview - All Scenarios Connected

```mermaid
graph TD
    A[â° Schedule: Every 12 Hours] --> B[ğŸ“¡ SCENARIO 1: Reddit Listener]
    B --> C[ğŸ“Š Google Sheets: Raw_Posts]
    C --> D[ğŸ” SCENARIO 2: Opportunity Scorer]
    D --> E[ğŸ“Š Google Sheets: Scored_Posts]
    E --> F[âœï¸ SCENARIO 3: Response Generator]
    F --> G[ğŸ“Š Google Sheets: Response_Queue]
    G --> H[ğŸ¤– SCENARIO 4: Account Manager]
    H --> I[ğŸ“Š Google Sheets: Posted_Responses]
    
    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style D fill:#e8f5e8
    style F fill:#fff3e0
    style H fill:#fce4ec
```

---

## Scenario 1: Reddit Listener
**Purpose:** Monitor Reddit every 12 hours for relevant posts

```mermaid
graph TD
    A[â° Schedule Trigger<br/>Every 12 Hours<br/>12:00 PM & 12:00 AM] --> B[ğŸŒ HTTP: Reddit Search<br/>r/shopify<br/>Keywords: review app, judge.me, etc.]
    
    B --> C[ğŸ”„ Iterator<br/>Loop through<br/>{{data.children}}]
    
    C --> D{ğŸ” Filter: New Post?<br/>Check if Post_ID exists<br/>in Raw_Posts Sheet}
    
    D -->|New Post| E{ğŸ¯ Filter: Keywords Match?<br/>Check title + content for:<br/>â€¢ review app<br/>â€¢ shopify reviews<br/>â€¢ judge.me, yotpo<br/>â€¢ social proof}
    
    D -->|Exists| F[â­ï¸ Skip<br/>Already processed]
    
    E -->|Match| G[âš™ï¸ JavaScript<br/>Extract & Clean Data:<br/>â€¢ Post details<br/>â€¢ Author karma<br/>â€¢ Matched keywords<br/>â€¢ Timestamps]
    
    E -->|No Match| F
    
    G --> H[ğŸ“Š Google Sheets: Add Row<br/>Raw_Posts Sheet<br/>Status: 'New']
    
    H --> I[ğŸŒ HTTP: Reddit Search<br/>r/ecommerce<br/>Same keyword logic]
    
    I --> J[ğŸŒ HTTP: Reddit Search<br/>r/entrepreneur<br/>Same keyword logic]
    
    J --> K[ğŸŒ HTTP: Reddit Search<br/>r/dropshipping<br/>Same keyword logic]
    
    K --> L[âœ… Complete<br/>Wait for next cycle]
    
    style A fill:#e1f5fe
    style G fill:#fff9c4
    style H fill:#e8f5e8
    style L fill:#c8e6c9
```

---

## Scenario 2: Opportunity Scorer
**Purpose:** Analyze new posts and score business opportunities

```mermaid
graph TD
    A[ğŸ‘€ Google Sheets: Watch Rows<br/>Raw_Posts Sheet<br/>Trigger: Status = 'New'] --> B{ğŸ” Layer 1 Filter<br/>Advanced Keyword Check<br/>Positive keywords AND<br/>NOT negative keywords}
    
    B -->|Pass| C[ğŸ¤– OpenAI: Context Analysis<br/>Model: GPT-3.5-turbo<br/>Analyze business context<br/>Return JSON format]
    
    B -->|Fail| D[ğŸ“Š Update Raw_Posts<br/>Status: 'Filtered_Out']
    
    C --> E[ğŸ”§ JSON Parser<br/>Extract AI analysis:<br/>â€¢ context_category<br/>â€¢ business_relevance<br/>â€¢ recommendation]
    
    E --> F{ğŸ¯ Layer 2 Filter<br/>business_relevance â‰¥ 6<br/>authenticity_score â‰¥ 5<br/>recommendation = 'proceed'}
    
    F -->|Pass| G[âš™ï¸ JavaScript: Layer 3 Scoring<br/>Calculate scores:<br/>â€¢ Intent Score (1-10)<br/>â€¢ Urgency Score (1-10)<br/>â€¢ Authority Score (1-10)<br/>â€¢ Final weighted score]
    
    F -->|Fail| H[ğŸ“Š Update Raw_Posts<br/>Status: 'Low_Priority']
    
    G --> I[ğŸ“Š Add Row: Scored_Posts<br/>All scores + analysis<br/>Status: 'Ready_for_Response']
    
    I --> J[ğŸ“Š Update Raw_Posts<br/>Status: 'Analyzed'<br/>Add score summary]
    
    J --> K[âœ… Complete<br/>Ready for Response Generation]
    
    style A fill:#e1f5fe
    style C fill:#fff3e0
    style G fill:#fff9c4
    style I fill:#e8f5e8
    style K fill:#c8e6c9
```

---

## Scenario 3: Response Generator
**Purpose:** Generate authentic responses for high-scoring opportunities

```mermaid
graph TD
    A[ğŸ‘€ Google Sheets: Watch Rows<br/>Scored_Posts Sheet<br/>Trigger: Status = 'Ready_for_Response'] --> B{ğŸ¯ Priority Filter<br/>High Priority OR<br/>Medium + Score > 6.5}
    
    B -->|Pass| C[ğŸ“Š Google Sheets: Get Values<br/>Raw_Posts Sheet<br/>Get original post data<br/>by Post_ID]
    
    B -->|Skip| D[â­ï¸ Skip<br/>Low priority]
    
    C --> E[âš™ï¸ JavaScript: Strategy Selection<br/>Determine response approach:<br/>â€¢ direct_recommendation<br/>â€¢ helpful_positioning<br/>â€¢ balanced_comparison<br/>â€¢ educational]
    
    E --> F[ğŸ¤– OpenAI: Response Generation<br/>Model: GPT-3.5-turbo<br/>Generate authentic response<br/>Based on strategy + context]
    
    F --> G[âš™ï¸ JavaScript: Quality Validation<br/>Check response quality:<br/>â€¢ Length appropriate<br/>â€¢ Sounds human<br/>â€¢ Provides value<br/>â€¢ Not overly sales-y]
    
    G --> H{âœ… Quality Gate<br/>Authenticity Score â‰¥ 7.0}
    
    H -->|Pass| I[ğŸ“Š Add Row: Response_Queue<br/>Response + metadata<br/>Status based on review needs]
    
    H -->|Fail| J[âŒ Discard<br/>Quality too low]
    
    I --> K[ğŸ“Š Update Scored_Posts<br/>Status: 'Response_Generated']
    
    K --> L[âœ… Complete<br/>Ready for Account Management]
    
    style A fill:#e1f5fe
    style E fill:#fff9c4
    style F fill:#fff3e0
    style G fill:#fff9c4
    style I fill:#e8f5e8
    style L fill:#c8e6c9
```

---

## Scenario 4: Account Manager & Poster
**Purpose:** Assign accounts, schedule posting, and execute responses

```mermaid
graph TD
    A[ğŸ‘€ Google Sheets: Watch Rows<br/>Response_Queue Sheet<br/>Trigger: Status = 'Approved'] --> B{â° Posting Hours Check<br/>9 AM - 7 PM<br/>Business hours only}
    
    B -->|Business Hours| C[ğŸ“Š Google Sheets: Get Values<br/>â€¢ Account_Health sheet<br/>â€¢ Raw_Posts data<br/>Get account status + post context]
    
    B -->|After Hours| D[â­ï¸ Skip<br/>Wait for business hours]
    
    C --> E[âš™ï¸ JavaScript: Smart Account Selection<br/>Score available accounts:<br/>â€¢ Health score<br/>â€¢ Subreddit history<br/>â€¢ Cooldown status<br/>â€¢ Daily limits]
    
    E --> F{ğŸ¤– Account Available?<br/>Found suitable account<br/>within limits}
    
    F -->|Yes| G[âš™ï¸ Calculate Optimal Timing<br/>â€¢ 2-6 hour delay<br/>â€¢ Priority adjustments<br/>â€¢ Account cooldowns<br/>â€¢ Natural patterns]
    
    F -->|No| H[â­ï¸ Retry Later<br/>No suitable accounts<br/>Wait 2 hours]
    
    G --> I[â±ï¸ Delay Module<br/>Wait calculated hours<br/>for optimal timing]
    
    I --> J[ğŸ“Š Update Response_Queue<br/>â€¢ Assigned account<br/>â€¢ Scheduled time<br/>Status: 'Scheduled']
    
    J --> K[ğŸŒ HTTP: Post to Reddit<br/>Reddit API comment<br/>Using assigned account<br/>OAuth authentication]
    
    K --> L[âš™ï¸ JavaScript: Process Response<br/>Check Reddit API result<br/>Extract comment data<br/>Handle errors]
    
    L --> M{âœ… Posted Successfully?<br/>Reddit API success<br/>No errors returned}
    
    M -->|Success| N[ğŸ“Š Add Row: Posted_Responses<br/>Comment details<br/>Engagement tracking<br/>Success metrics]
    
    M -->|Error| O[âŒ Handle Error<br/>Log for manual review<br/>Retry logic if appropriate]
    
    N --> P[ğŸ“Š Update Account_Health<br/>â€¢ Increment post counts<br/>â€¢ Update cooldowns<br/>â€¢ Last activity time]
    
    P --> Q[ğŸ“Š Update Response_Queue<br/>Status: 'Posted'<br/>Mark as complete]
    
    Q --> R[âœ… Complete<br/>Response successfully posted<br/>System ready for next]
    
    style A fill:#e1f5fe
    style E fill:#fff9c4
    style G fill:#fff9c4
    style I fill:#e3f2fd
    style K fill:#fff3e0
    style L fill:#fff9c4
    style N fill:#e8f5e8
    style P fill:#e8f5e8
    style R fill:#c8e6c9
```

---

## Data Flow Between Scenarios

```mermaid
graph LR
    subgraph "Scenario 1: Monitoring"
        A1[Reddit APIs] --> A2[Raw_Posts Sheet]
    end
    
    subgraph "Scenario 2: Analysis"
        B1[Raw_Posts Watch] --> B2[AI Analysis] --> B3[Scored_Posts Sheet]
    end
    
    subgraph "Scenario 3: Response Gen"
        C1[Scored_Posts Watch] --> C2[Response Generation] --> C3[Response_Queue Sheet]
    end
    
    subgraph "Scenario 4: Posting"
        D1[Response_Queue Watch] --> D2[Account Management] --> D3[Posted_Responses Sheet]
    end
    
    A2 --> B1
    B3 --> C1
    C3 --> D1
    
    style A2 fill:#e8f5e8
    style B3 fill:#e8f5e8
    style C3 fill:#e8f5e8
    style D3 fill:#e8f5e8
```

---

## Error Handling Flow

```mermaid
graph TD
    A[Any Module Error] --> B{Error Type?}
    
    B -->|API Rate Limit| C[â±ï¸ Exponential Backoff<br/>Wait increasing intervals<br/>Retry with delays]
    
    B -->|Data Error| D[ğŸ“ Log to Error Sheet<br/>Continue with next item<br/>Human review flagged]
    
    B -->|Authentication| E[ğŸ”‘ Refresh Tokens<br/>Re-authenticate<br/>Retry operation]
    
    B -->|Critical System| F[ğŸš¨ Alert System<br/>Email notifications<br/>Pause scenarios]
    
    C --> G[â™»ï¸ Retry Operation]
    D --> H[â­ï¸ Continue Processing]
    E --> G
    F --> I[â¸ï¸ System Pause]
    
    style F fill:#ffebee
    style I fill:#ffebee
```

---

## Daily Maintenance Scenarios

### Scenario 5: Health Monitor
```mermaid
graph TD
    A[â° Daily Schedule<br/>6:00 AM] --> B[ğŸ“Š Get All Accounts<br/>Account_Health Sheet]
    
    B --> C[ğŸ”„ For Each Account<br/>Check Reddit status]
    
    C --> D[ğŸŒ Reddit API<br/>Get account karma<br/>Check for warnings]
    
    D --> E[âš™ï¸ Calculate Health<br/>Update health scores<br/>Detect issues]
    
    E --> F[ğŸ“Š Update Account_Health<br/>New scores and status]
    
    F --> G[ğŸ“§ Generate Daily Report<br/>Email summary<br/>Alert on issues]
```

### Scenario 6: Engagement Tracker
```mermaid
graph TD
    A[â° Every 6 Hours] --> B[ğŸ“Š Get Posted Responses<br/>Last 48 hours]
    
    B --> C[ğŸ”„ For Each Response<br/>Check engagement]
    
    C --> D[ğŸŒ Reddit API<br/>Get comment data<br/>Upvotes, replies]
    
    D --> E[âš™ï¸ Calculate Metrics<br/>Engagement scores<br/>Community reaction]
    
    E --> F[ğŸ“Š Update Posted_Responses<br/>Latest engagement data]
```

---

## Module Legend

| Symbol | Module Type | Purpose |
|--------|-------------|---------|
| â° | Schedule | Time-based triggers |
| ğŸ‘€ | Google Sheets Watch | Monitor sheet changes |
| ğŸ“Š | Google Sheets Add/Update | Write to sheets |
| ğŸŒ | HTTP | API calls (Reddit, OpenAI) |
| âš™ï¸ | JavaScript | Custom logic processing |
| ğŸ”„ | Iterator | Loop through arrays |
| ğŸ¯ | Filter | Conditional routing |
| ğŸ¤– | OpenAI | AI analysis calls |
| ğŸ”§ | JSON Parser | Parse API responses |
| â±ï¸ | Delay | Timing controls |
| âœ… | Success Path | Completed successfully |
| âŒ | Error Path | Handle failures |
| â­ï¸ | Skip | Bypass processing |

This visual system helps you understand exactly how data flows through each scenario and how the modules connect to create your complete Reddit monitoring automation.
